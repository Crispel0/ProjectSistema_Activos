{% extends 'partials/body.html' %}
{% block content %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>panel_admin</title>
    <style>
       @media screen and (min-width: 320px) and (max-width: 375px) {
            h2{
                font-size: 15px
            }
       }
       @media screen and (min-width: 376px) and (max-width: 425px) {
            h2{
                font-size: 20px
            }
       }
       @media screen and (min-width: 426px) and (max-width: 768px) {
            h2{
                font-size: 1.5rem
            }
       }
    </style>
</head>
<script src = "{% static 'js/chartt.js'%}"></script>
<body>
<div class="row">
    <div class="card-header col-12">
    </div>
    <div class="card-body d-flex flex-wrap col-sm-6 col-dm-5 col-lg-4">
        <h2 class="card-title text-center">Totales</h2>
        <canvas id="grafico_total" class="container"></canvas>
    </div>
    <div class="card-body d-flex flex-wrap col-sm-6 col-dm-5 col-lg-4">
        <h2 class="card-title text-center">Usuarios</h2>
        <canvas id="grafico_usuarios" class="container"></canvas>
    </div>
    <div class="card-body d-flex flex-wrap col-sm-6 col-dm-5 col-lg-4">
        <h2 class="card-title text-center">Activos</h2>
        <canvas id="grafico_activos" class="container"></canvas>
    </div>
    <div class="card-body d-flex flex-wrap col-sm-6 col-dm-5 col-lg-4">
        <h2 class="card-title text-center">Software</h2>
        <canvas id="grafico_software" class="container"></canvas>
    </div>
    <div class="card-body d-flex flex-wrap col-sm-6 col-dm-5 col-lg-4">
        <h2 class="card-title text-center">Hardware</h2>
        <canvas id="grafico_hardware" class="container"></canvas>
    </div>
</div>
<script type="text/javascript">
    
var data = {{ info_panel|safe }};

console.log(data);
const yValues= [];

var ja = Nn; 
  const activos = ["activos_totales","Activos","no_activos"];
  const usuarios = ["usuarios_totales","Activos","no_activos"];
  const software = ["cantidad_total","activos","no_activos"];
  const hardware = ["cantidad_total","activos","no_Activos"];

  /*let info_panel = JSON.parse('{"{info_panel|safe}"}');
  const values_random = []

  for (var key in info_panel) {
    alert(info_panel[key]);
    console.log(info_panel[key])
    values_random.push(key)
    
  }*/

  
  var barColors = ["red","black","blue"];

  function generate_data(value,i1,i2,step = 0){
    for(let x = i1 ; x <= i2; x += step){
      yValues.push(value)
      
    }
  }
  generate_data(data,yValues[0],yValues[-1]);

  yValues.forEach((e) => {
    console.log(e);
  });
  
  !(function () {
    const grafico_total = document.getElementById("grafico_total");
    new ja(grafico_total, {
      type: "doughnut",
      data: {
        labels: activos,
        datasets: [
          {
            data: yValues,
            borderWidth: 1,
            borderColor: "#36A2EB",
            backgroundColor: barColors,
          },
        ],
      },
      options: {
        responsive:true
      }
    });
    const grafico_usuarios = document.getElementById("grafico_usuarios");
    new ja(grafico_usuarios, {
      type: "line",
      data: {
        labels: usuarios,
        datasets: [
          {
            label: "Usuarios Activos/Inactivos",
            data: yValues,
            borderWidth: 1,
            fill: false,
            pointRadius:1,
            borderColor: "#36A2EB",
            backgroundColor: barColors,
          },
        ],
      },
      options: {
        responsive:true
      }
    });
    const grafico_activos = document.getElementById("grafico_activos");
    new ja(grafico_activos, {
      type: "bar",
      data: {
        labels: activos,
        datasets: [
          {
            label: "Activos/Desactivos/Categorizacion",
            data: yValues,
            pointRadius:1,
            borderColor: "#36A2EB",
            backgroundColor: barColors,
          },
        ],
      },
      options: {
        responsive:true
      }
    });
    const grafico_software = document.getElementById("grafico_software");
    new ja(grafico_software, {
      type: "radar",
      data: {
        labels: software,
        datasets: [
          {
            label: "Activo/Desactivo/Categorizacion",
            data: yValues,
            borderWidth: 1,
            borderColor: "#36A2EB",
            backgroundColor: barColors,
          },
        ],
      },
      options: {
        elements: {
          line: {
            borderWidth: 3
          }
        },
        responsive: true
      },
    });
    const grafico_hardware = document.getElementById("grafico_hardware");
    new ja(grafico_hardware, {
      type: "polarArea",
      data: {
        labels: hardware,
        datasets: [
          {
            label: "Categorizacion",
            data: yValues,
            borderWidth: 1,
            fill: false,
            pointRadius:1,
            borderColor: "#36A2EB",
            backgroundColor: barColors,
          },
        ],
      },
      options: {
        responsive:true
      }
    });
  })(); 
  



</script>
</body>
</html>
{% endblock %}